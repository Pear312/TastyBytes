{% extends "base.html" %}
{% block content %}

<h2>Create New Recipe</h2>

<form action="/create" method="POST" class="form-container">

    <h3>Basic Information</h3>

    <label>Recipe Title</label>
    <input type="text" name="title" required>

    <label>Description</label>
    <textarea name="description" required></textarea>

    <label>Cook Time (minutes)</label>
    <input type="number" name="cook_time" min="1" required>

    <label>Servings</label>
    <input type="number" name="servings" min="1" required>


    <h3>Ingredients</h3>
    <div id="ingredient-list">
        <div class="ingredient-row">
            <input type="text" name="ingredient_name[]" placeholder="Ingredient" class="ingredient-name">
            <input type="text" name="ingredient_qty[]" placeholder="Quantity" class="ingredient-qty">
        </div>
    </div>

    <button type="button" onclick="addIngredient()" class="add-btn">+ Add Ingredient</button>


    <h3>Instructions</h3>
    <div id="instruction-list">
        <input type="text" name="instruction[]" placeholder="Step 1">
    </div>

    <button type="button" onclick="addInstruction()" class="add-btn">+ Add Step</button>

    <h3>Tags</h3>
    <div id="tag-list" class="form-row">
        <input type="text" name="tags" placeholder="Enter a tag">
    </div>

    <button type="button" onclick="addTag()" class="add-btn">+ Add Tag</button>

    <br><br>

    <button type="submit" class="submit-btn">Create Recipe</button>

</form>


<script>
function addIngredient() {
    const list = document.getElementById("ingredient-list");

    const row = document.createElement("div");
    row.className = "ingredient-row";

    const nameInput = document.createElement("input");
    nameInput.type = "text";
    nameInput.name = "ingredient_name[]";
    nameInput.placeholder = "Ingredient";
    nameInput.className = "ingredient-name";

    const qtyInput = document.createElement("input");
    qtyInput.type = "text";
    qtyInput.name = "ingredient_qty[]";
    qtyInput.placeholder = "Quantity";
    qtyInput.className = "ingredient-qty";

    row.appendChild(nameInput);
    row.appendChild(qtyInput);

    list.appendChild(row);
}

function addInstruction() {
    const container = document.getElementById("instruction-list");
    const input = document.createElement("input");
    input.type = "text";
    input.name = "instruction[]";
    input.placeholder = "Next Step";
    container.appendChild(input);
}

function addTag() {
    const list = document.getElementById("tag-list");
    const input = document.createElement("input");
    input.type = "text";
    input.name = "tags";
    input.placeholder = "New tag";
    list.appendChild(input);
}

</script>

<style>
.ingredient-row {
    display: flex;
    gap: 10px;
    margin-bottom: 5px;
}
.ingredient-name, .ingredient-qty {
    padding: 5px;
    flex: 1;
}

.form-container {
    background: #fff;
    padding: 25px;
    border-radius: 8px;
    max-width: 700px;
    margin: auto;
}

.form-container input,
.form-container textarea {
    width: 100%;
    padding: 8px;
    margin: 6px 0 12px 0;
    border: 1px solid #ccc;
    border-radius: 4px;
}

.add-btn {
    background: #ffbb00;
    border: none;
    padding: 8px 12px;
    border-radius: 4px;
    cursor: pointer;
    margin-bottom: 15px;
}

.submit-btn {
    background: #ffbb00;
    border: none;
    padding: 10px 18px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
}
</style>

{% endblock %}
